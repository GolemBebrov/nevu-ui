#version 330 core

// Выходной цвет пикселя
out vec4 frag_color;

// Текстурные координаты, которые приходят из вершинного шейдера (от 0.0 до 1.0)
in vec2 uv;

// Ваша исходная текстура (изображение)
uniform sampler2D u_texture;

void main()
{
    // 1. Получаем оригинальный цвет пикселя из текстуры
    vec4 original_color = texture(u_texture, uv);

    // 2. Определяем коэффициент затемнения.
    // uv.x - это горизонтальная координата пикселя.
    // Она плавно изменяется от 0.0 на левом краю до 1.0 на правом.
    // Это именно то, что нам нужно!
    float darkness_factor = uv.x;

    // 3. Умножаем RGB компоненты цвета на наш коэффициент.
    // Когда darkness_factor равен 0 (слева), цвет станет черным (R*0, G*0, B*0).
    // Когда darkness_factor равен 1 (справа), цвет останется оригинальным (R*1, G*1, B*1).
    // Альфа-канал (прозрачность) мы не трогаем.
    vec3 final_rgb = original_color.rgb * darkness_factor;

    // 4. Устанавливаем итоговый цвет пикселя
    frag_color = vec4(final_rgb, original_color.a);
}